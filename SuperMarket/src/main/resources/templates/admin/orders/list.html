<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Orders List</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Quixlab Admin Template -->
    <base href="/admin/"/>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Quixlab - Bootstrap Admin Dashboard Template by Themefisher.com</title>
    <!-- Favicon icon -->
    <link rel="icon" type="image/png" sizes="16x16" href="images/favicon.png">
    <!-- Custom Stylesheet -->
    <link href="css/style.css" rel="stylesheet">
    <!-- Custom order table style -->
    <link rel="stylesheet" type="text/css" href="/assets/css/order.css">
</head>

<body>
<div id="main-wrapper">

    <!-- Header Fragment -->
    <div th:replace="fragments/header :: header"></div>

    <!-- Sidebar Fragment -->
    <div th:replace="fragments/sidebar :: sidebar"></div>

    <!-- Main Content -->
    <div class="content-body">
        <div class="container-fluid mt-4">
            <h2>Danh sách đơn hàng</h2>

            <table class="table table-bordered table-striped">
                <thead class="thead-dark">
                <tr>
                    <th>No</th>
                    <th>Customer</th>
                    <th>Total Amount</th>
                    <th>Status</th>
                    <th>Actions</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="order : ${orders}">
                    <td th:text="${order.id}">1</td>
                    <td th:text="${order.customer.fullName}">Nguyen Van A</td>
                    <td th:text="${#numbers.formatDecimal(order.totalAmount, 0, 'COMMA', 0, 'POINT')} + ' VND'"></td>
                    <td th:class="'status-' + ${order.status.toLowerCase()}" th:text="${order.status}">Pending</td>
                    <td>
                        <a class="btn btn-sm btn-info" th:href="@{/admin/orders/{id}(id=${order.id})}">View</a>
                        <form th:action="@{/admin/orders/{id}/status(id=${order.id})}" method="post" style="display:inline;">
                            <select name="status" class="form-control form-control-sm d-inline w-auto">
                                <option value="Pending" th:selected="${order.status == 'Pending'}">Pending</option>
                                <option value="Shipped" th:selected="${order.status == 'Shipped'}">Shipped</option>
                                <option value="Delivered" th:selected="${order.status == 'Delivered'}">Delivered</option>
                                <option value="Cancelled" th:selected="${order.status == 'Cancelled'}">Cancelled</option>
                            </select>
                            <button type="submit" class="btn btn-sm btn-primary">Update</button>
                        </form>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Footer -->
    <div class="footer">
        <div class="copyright">
            <p>Copyright &copy; Designed & Developed by <a href="https://themeforest.net/user/quixlab">Quixlab</a> 2018</p>
        </div>
    </div>

</div>

<!-- Scripts -->
<script src="plugins/common/common.min.js"></script>
<script src="js/custom.min.js"></script>
<script src="js/settings.js"></script>
<script src="js/gleek.js"></script>
<script src="js/styleSwitcher.js"></script>
<script src="js/dashboard/dashboard-2.js"></script>

</body>
</html>
